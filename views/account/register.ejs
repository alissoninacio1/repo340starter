<div id="registration-body">
    <div class="container">
        <h1 class="form-title">Register</h1>

        <!-- Display Errors -->
        <% if (errors) { %>
            <ul class="notice">
                <% errors.array().forEach(error => { %>
                    <li><%= error.msg %></li>
                <% }) %>
            </ul>
        <% } %>
        
        <!-- Registration form -->
        <form class="registration-form" action="/account/register" method="post">
            <div class="form-group">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="account_firstname" required pattern="[A-Za-zÀ-ÖØ-öø-ÿ\s]+" placeholder="Only text is allowed" value="<%= locals.account_firstname %>">
            </div>
            <div class="form-group">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" name="account_lastname" required pattern="[A-Za-zÀ-ÖØ-öø-ÿ\s]+"  placeholder="Only text is allowed">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="account_email" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="account_password" minlength="12" required>
                <p class="password-requirements">Password must be at least 12 characters long and contain at least one number, one uppercase letter, one lowercase letter, and one special character.</p>
            </div>
            <div class="form-group">
                <button type="button" id="show-password-button">Show Password</button>
            </div>
            <div class="form-group">
                <button type="submit" class="registration-button">Register</button>
            </div>
        </form>

        <!-- Already have an account option -->
        <div id="signup-link">
            <p>Already have an account? <a href="/account/login">Login</a></p>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const passwordInput = document.getElementById('password');
        const showPasswordButton = document.getElementById('show-password-button');
        
        showPasswordButton.addEventListener('click', function() {
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                showPasswordButton.textContent = 'Hide Password';
            } else {
                passwordInput.type = 'password';
                showPasswordButton.textContent = 'Show Password';
            }
        });
    });
    </script>
    
    